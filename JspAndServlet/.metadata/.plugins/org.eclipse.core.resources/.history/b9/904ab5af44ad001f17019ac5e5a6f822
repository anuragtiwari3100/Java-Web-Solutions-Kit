public class Model {
    private String uname;
    private String upassword;
    private String email;
    private String ucity;
    private Connection connect = null;
    private PreparedStatement pstm = null;
    int rowAffected;

    // Getters and Setters
    public String getUname() {
        return uname;
    }

    public void setUname(String uname) {
        this.uname = uname;
    }

    public String getUpassword() {
        return upassword;
    }

    public void setUpassword(String upassword) {
        this.upassword = upassword;
    }

    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    public String getUcity() {
        return ucity;
    }

    public void setUcity(String ucity) {
        this.ucity = ucity;
    }

    // Register Method
    public int register() {
        try {
            connect = JDBCUtill.getDbConnection();
            String sql = "INSERT INTO apnaInfo (uname, upassword, email, ucity) VALUES (?, ?, ?, ?)";
            pstm = connect.prepareStatement(sql);

            // Setting parameters in correct order
            pstm.setString(1, uname);
            pstm.setString(2, upassword);
            pstm.setString(3, email);
            pstm.setString(4, ucity);

            // Execute update
            rowAffected = pstm.executeUpdate();
        } catch (SQLException e) {
            e.printStackTrace();
        } finally {
            try {
                JDBCUtill.closeResource(connect, pstm);
            } catch (SQLException e) {
                e.printStackTrace();
            }
        }
        return rowAffected;
    }
}
